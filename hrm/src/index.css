/* Tailwind layers */
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap');

@tailwind base;
@tailwind components;

@layer components {

  /* -------- page + card -------- */
  /* -------- page + card -------- */
  .page {
    /* Responsive Page Padding */
    @apply mx-auto max-w-screen-2xl px-4 sm:px-6 pt-4 sm:pt-6 pb-24 sm:pb-32 overflow-x-hidden;
  }

  .pagination-safe {
    @apply pr-16 sm:pr-24 transition-all duration-300;
  }

  .card {
    /* radius 12 is rounded-xl? rounded-2xl is 16px usually. rounded-xl is 12px. User said radius 12. */
    @apply bg-white rounded-xl shadow-sm ring-1 ring-gray-100 overflow-hidden;
  }

  .card-header {
    /* padding 16-20. px-5 is 20px. py-4 is 16px. */
    @apply border-b border-gray-100 px-5 py-4;
  }

  .card-title {
    /* H2 20 semibold? Or is this H3? Usually card title is H2 or smaller. 
       User said H2 20 semibold. Let's map card title to H2 style or keep small caps if it's a "label".
       The previous style was small caps. Let's make it H2 style if it's a main heading, 
       but for "Filters" maybe keep it small. 
       Actually user said H1 28 Bold, H2 20 Semi. 
       Let's add generic utility classes for these. 
    */
    @apply text-lg font-semibold text-slate-800;
    /* ~18-20px */
  }

  .card-body {
    /* padding 16-20. p-5 = 20px. */
    @apply p-5;
  }

  /* -------- Typography mappings -------- */
  .h1 {
    @apply text-[28px] font-bold text-slate-900 leading-tight;
  }

  .h2 {
    @apply text-[20px] font-semibold text-slate-800 leading-snug;
  }

  /* Body defaults to 14-15. Tailwind base is 16, sm is 14. 
     We can set body in @layer base if needed, currently we use utilities.
  */

  /* -------- inputs (Premium Standard: 40px height, radius 12) -------- */
  .input {
    /* h-10 is 40px. rounded-xl is 12px. */
    @apply w-full h-10 rounded-xl border border-slate-300 bg-white px-4 text-[14px] outline-none transition-all duration-200 shadow-sm;
  }

  .input:focus {
    @apply border-customRed ring-4 ring-customRed/10;
  }

  .select {
    @apply input appearance-none bg-no-repeat bg-right pr-10;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-size: 1.25em 1.25em;
  }

  .textarea {
    @apply input h-auto py-3 leading-relaxed;
  }

  /* -------- buttons (Unified Premium Design System) -------- */
  .btn {
    @apply inline-flex items-center justify-center rounded-2xl px-5 h-10 text-[10px] font-black uppercase tracking-[0.18em] transition-all duration-300 focus:outline-none disabled:opacity-40 disabled:cursor-not-allowed select-none whitespace-nowrap active:scale-[0.97];
  }

  /* Main Action (Primary) - Vibrant Gradient & Soft Glow Shadow */
  .btn-primary {
    @apply btn bg-gradient-to-br from-customRed to-red-600 text-white border-t border-white/20;
    box-shadow: 0 8px 20px -6px rgba(239, 68, 68, 0.5);
  }

  .btn-primary:hover {
    @apply -translate-y-0.5 brightness-[1.05];
    box-shadow: 0 12px 28px -8px rgba(239, 68, 68, 0.6);
  }

  /* Success Action (Save/Submit) - Now Red Theme */
  .btn-success {
    @apply btn bg-gradient-to-br from-customRed to-red-600 text-white border-t border-white/20;
    box-shadow: 0 8px 20px -6px rgba(239, 68, 68, 0.5);
  }

  .btn-success:hover {
    @apply -translate-y-0.5 brightness-[1.05];
    box-shadow: 0 12px 28px -8px rgba(239, 68, 68, 0.6);
  }

  /* Secondary Action (Outline) - Soft Border & Clean Look */
  .btn-outline {
    @apply btn border border-slate-200 bg-white text-slate-700;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
  }

  .btn-outline:hover {
    @apply border-slate-300 bg-slate-50 text-slate-900 -translate-y-0.5 shadow-lg shadow-slate-200/50;
  }

  /* Utility Action (Export/Import/etc) - Glassy Professional Look */
  .btn-utility {
    @apply btn bg-white border border-slate-200 text-slate-600 font-bold;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
  }

  .btn-utility:hover {
    @apply text-customRed border-customRed/30 bg-red-50/30 -translate-y-0.5 shadow-lg shadow-red-500/5;
  }

  /* Premium/Dark Action - Sophisticated Slate/Indigo */
  .btn-premium {
    @apply btn bg-slate-900 border border-slate-800 text-white border-t border-white/5;
    box-shadow: 0 10px 25px -10px rgba(15, 23, 42, 0.6);
  }

  .btn-premium:hover {
    @apply -translate-y-0.5 bg-slate-800;
    box-shadow: 0 15px 35px -12px rgba(15, 23, 42, 0.8);
  }

  /* -------- sidebar bits (Gold Standard) -------- */
  .sidebar {
    @apply w-64 shrink-0;
  }

  .sidebar-card {
    @apply sticky top-6 bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden;
  }

  .sidebar-heading {
    @apply px-5 pt-4 pb-2 text-[11px] font-bold uppercase tracking-wider text-slate-500;
  }

  .sidebar-list {
    @apply px-2 pb-4 space-y-1;
  }

  .sidebar-item {
    @apply relative w-full flex items-center gap-3 rounded-xl px-3 h-10 text-[14px] font-medium text-slate-700 transition-all duration-200 hover:bg-slate-50 outline-none text-left;
  }

  .sidebar-icon {
    @apply h-[18px] w-[18px] text-slate-400 transition-colors;
  }

  .sidebar-active {
    @apply bg-customRed/10 text-customRed font-semibold;
  }

  .sidebar-active .sidebar-icon {
    @apply text-customRed;
  }

  .sidebar-strip {
    @apply absolute left-0 top-2 h-[calc(100%-16px)] w-[4px] rounded-r-md;
    background-color: theme('colors.customRed');
  }

  /* Submenu */
  .sidebar-submenu {
    @apply mt-1 ml-9 space-y-1 border-l border-slate-100 pl-4 py-1;
  }

  .sidebar-subitem {
    @apply block py-1.5 text-[13px] text-slate-500 hover:text-customRed transition-colors;
  }

  .sidebar-subitem-active {
    @apply text-customRed font-medium;
  }

  /* -------- Standard Cards -------- */
  /* Remove duplicate .card definitions if any, keeping the simplified unified one above */

  /* -------- labels -------- */
  .form-label {
    @apply block text-[13px] leading-5 font-normal text-gray-600 mb-1;
  }

  /* -------- tables (match Employee) -------- */
  .table {
    @apply w-full border-collapse;
  }

  /* -------- table scroll helper -------- */
  .table-scroll {
    @apply w-full overflow-x-auto;
    overflow-y: visible !important;
    -webkit-overflow-scrolling: touch;
  }

  /* Custom scrollbar for premium look */
  .table-scroll::-webkit-scrollbar {
    height: 4px;
  }

  .table-scroll::-webkit-scrollbar-track {
    background: transparent;
  }

  .table-scroll::-webkit-scrollbar-thumb {
    @apply bg-slate-200 rounded-full hover:bg-slate-300 transition-colors;
  }

  .thead {
    /* Sticky header requirement */
    @apply sticky top-0 z-10 bg-white text-sm font-semibold text-gray-800 border-b border-customLightGrey/40;
  }

  .th {
    @apply text-left py-3 px-4 text-sm font-semibold text-gray-800 whitespace-nowrap;
  }

  .tr {
    @apply border-b border-gray-100 last:border-b-0 hover:bg-slate-50 transition-colors;
  }

  .td {
    @apply py-4 px-4 align-top text-sm text-gray-700;
  }

  /* badges */
  .badge {
    @apply inline-flex items-center rounded-full px-2.5 h-6 text-xs font-medium;
  }

  .badge-red {
    @apply badge bg-customRed/10 text-customRed;
  }

  .badge-green {
    @apply badge bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200;
  }

  .badge-gray {
    @apply badge bg-gray-100 text-gray-700;
  }

  /* kebab */
  .kebab {
    @apply inline-flex h-8 w-8 items-center justify-center rounded-lg border border-customRed text-customRed hover:bg-customRed/10;
  }

  /* -------- RESPONSIVE UTILITIES -------- */

  /* Table scroll wrapper for mobile */
  .table-scroll {
    @apply overflow-x-auto -mx-4 sm:mx-0;
  }

  .table-scroll table {
    @apply min-w-full;
  }

  /* Responsive modal sizing */
  .modal-content {
    @apply w-full max-w-[95vw] sm:max-w-lg md:max-w-2xl lg:max-w-4xl mx-auto;
  }

  /* Mobile-friendly form grid */
  .form-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-4;
  }

  .form-grid-3 {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4;
  }

  /* Responsive card padding */
  .card-body-responsive {
    @apply p-4 sm:p-5 md:p-6;
  }

  /* Touch-friendly button sizing */
  .btn-touch {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Hide on mobile, show on desktop */
  .desktop-only {
    @apply hidden lg:block;
  }

  /* Show on mobile, hide on desktop */
  .mobile-only {
    @apply block lg:hidden;
  }

  /* Responsive text sizes */
  .text-responsive-sm {
    @apply text-xs sm:text-sm;
  }

  .text-responsive-base {
    @apply text-sm sm:text-base;
  }

  .text-responsive-lg {
    @apply text-base sm:text-lg;
  }

  /* Transition utilities for drawers */
  .drawer-enter {
    transform: translateX(-100%);
  }

  .drawer-enter-active {
    transform: translateX(0);
    transition: transform 300ms ease-in-out;
  }

  .drawer-exit {
    transform: translateX(0);
  }

  .drawer-exit-active {
    transform: translateX(-100%);
    transition: transform 300ms ease-in-out;
  }

  /* Overlay */
  .drawer-overlay {
    @apply fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[900] transition-opacity duration-300;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* -------- Modals & Special Sections -------- */
  .modal-overlay {
    @apply fixed inset-0 z-[1000] flex items-center justify-center p-4 sm:p-6 bg-slate-900/60 backdrop-blur-sm overflow-hidden;
  }

  .modal-content {
    @apply relative bg-white w-full max-h-full flex flex-col rounded-[32px] shadow-2xl border border-white/20 overflow-hidden;
    animation: modal-in 0.3s ease-out;
  }

  @keyframes modal-in {
    from {
      transform: scale(0.98) translateY(10px);
      opacity: 0;
    }

    to {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes slide-up {
    from {
      transform: translateY(10px);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .animate-fade-in {
    animation: fade-in 0.4s ease-out;
  }

  .animate-slide-up {
    animation: slide-up 0.4s ease-out;
  }

  .modal-header {
    @apply px-5 sm:px-8 py-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/30;
  }

  .modal-body {
    @apply flex-1 overflow-y-auto px-5 sm:px-8 py-6 space-y-8 custom-scrollbar;
  }

  .modal-footer {
    @apply px-5 sm:px-8 py-5 border-t border-slate-100 flex items-center justify-end gap-3 bg-white;
  }

  .section-divider {
    @apply flex items-center gap-3 mb-5;
  }

  .section-indicator {
    @apply h-6 w-1 bg-customRed rounded-full;
  }

  .section-title {
    @apply text-xs font-black uppercase tracking-[0.2em] text-slate-800;
  }
}

@tailwind utilities;

/* Notification Bell animation (Runs once) */
@keyframes bell-ring {

  0%,
  100% {
    transform: rotate(0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: rotate(-12deg);
  }

  20%,
  40%,
  60%,
  80% {
    transform: rotate(12deg);
  }
}

.animate-bell {
  animation: bell-ring 0.6s ease-in-out;
  transform-origin: top center;
}

@layer utilities {
  .custom-scrollbar::-webkit-scrollbar {
    width: 5px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-200 rounded-full;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-300;
  }
}